:lang: no
:doctitle: Informasjonssikkerhet
:keywords: 

include::../plattform_felles/includes/commonincludes.adoc[]

image:../plattform_felles/media/i-arbeid.png[width=45, height=45] Foreløpig innhold

 Kapittelet om informasjonssikkerhet er et foreløpig utkast til temaer for et informasjonssikkerhetskapittel og litt om hva det kan inneholde.

== Overordnede mål
Sikring av informasjon er sentralt i referansearkitekturene for informasjonsutveksling. Dette omfatter integritet, konfidensialitet og uavviselighet. Informasjon må kunne utveksles uendret mellom aktørene, og uvedkommende må ikke få tilgang til informasjonen. Avsendere og tilbydere må være trygge på at mottakere og konsumenter er riktige og mottakere og konsumenter må være trygge på at avsendere og tilbydere er de vedkommende utgir seg for å være. Informasjonen om transaksjoner må være sporbar i ettertid (uavviselig). Referansearkitekturene skal ivaretar disse behovene.

Sikkerhetsarkitekturen for eOppslag er laget med tanke på å nå følgende overordnede målsetninger:

* Standardiserte sikkerhetsnivå med definerte sett av sikkerhetsmekanismer, slik at det er mulig å velge grad av sikkerhet tilpasset en risikovurdering av tjenesten det gjelder.
* Standardisert mekanisme for autentisering av klienter for å få teknisk konsolidering på tvers av offentlig sektor og mulighet til gjenbruk av komponenter
* Standardisert mekanisme for delegering av myndighet, hvor en virksomhet kaller tjenester på vegne av en annen virksomhet

== Krav fra eIDAS
include::../nab_referanse_arkitekturer/krav_eIDAS.adoc[]


== Omfang og avgrensning
* "A henter data hos B"
* Hva er de viktigste truslene?
* Sikkerhetsaktører, trusselaktører og feil
* Tilgangsstyring

== Informasjonsbeskyttelsesbehov
* Regelverk – relevant regelverk
* Verdier og eiere – Skrive veldig generelt om at dette bør beskrives (grønne/gule/røde)
* Sikkerhetsnivåer, nivå for akseptabel risiko -peke til nivåene i forordningen?
* Konfidensialitet, integritet, tilgjengelighet

== Aktuelle tiltak
* Avtaler, bruksvilkår – kort om at dette regulerer ansvar og rettigheter etc
* Regelverk – endringsbehov
* Sporbarhet, feilsøking og etterforskning
* Avvikshåndtering (beredskap) – Peker til veiledning
* Autorisasjon og autorisering

== Risiko og sårbarhetsanalyse
* Tillitskjeder – Bør vi skrive noe om dette?
* Klassifisering av informasjon – Samme som verdier og sikkerhetsnivåer?
* https://internkontroll-infosikkerhet.difi.no/

== Restrisiko

== Standardisert autentiseringsmekanisme 

Autentisering i denne sammenheng innebærer at en klient autentiseres som den virksomheten den representerer, identifisert med organisasjonsnummer. Arkitekturen tar ikke høyde for å skille mellom ulike klienter internt i samme virksomhet, det er forventet at virksomheten selv håndterer styring av hvilke klienter som får kalle hvilke tjenester gjennom sin egen integrasjonsarkitektur og sikkerhetsarkitektur. Det er utenfor rammen av denne referansearkitekturen å gi føringer for hvordan dette skal løses.

På bakgrunn av de tekniske forutsetningene velger vi i denne referansearkitekturen en autentisering hvor:

* Klienten autentiserer seg mot en token-tjeneste med et virksomhetssertifikat.
* Token-tjenesten utsteder et token som kun er gyldig for et begrenset tidsrom mot en spesifisert tjeneste.
* Tokenet brukes som autentisering mot aktuell tjeneste.

Denne løsningen gjør også at vi har fleksibilitet til å innføre andre autentiseringsmekanismer eller støtte for andre typer sertifikat senere.

Bruk av token på denne måten oppfyller også de tekniske føringene:

* Bruk av virksomhetssertifikatet reduseres til kun å utstede token, virksomhetssertifikatet brukes ikke direkte mot hver enkelt tjeneste klienten ønsker å kalle.
* Bruk av proxy/gateway-løsninger innebærer at TLS-forbindelsen termineres i en gateway og en ny forbindelse settes opp for videre kommunikasjon. Autentiseringsmekanismer knyttet til TLS-forbindelsen blir dermed ikke videreformidlet inn mot bakenforliggende tjenester, men må kontrolleres av gateway-en. Løsningen som foreslås her innebærer i stedet at autentiseringsmekanismen legges i en http-header og kan videreformidles gjennom gateway/proxy inn til tjenesten som kalles.
* Gjennom å implementere token-tjenesten med standard OAuth2- og JWT-mekanismer finnes det hyllevare for å ta imot, verifisere og konvertere slike tokens.

== Delegering av myndighet 

Dette er nyttig i mange situasjoner og en felles løsning for dette på tvers av offentlig sektor vil kunne gi stor gevinst, for eksempel i situasjoner som:

* Regnskapskontor, advokater, meglere osv opptrer på vegne av sine oppdragsgivere
* Tjenesteleverandører, driftsleverandører eller aggregeringstjenester opptrer på vegne av sine kunder
* Bransjeorganisasjoner opptrer på vegne av sine medlemmer

I den videre diskusjonen trenger vi å skille mellom:

* Konsumenten (C) som er den juridiske ansvarlige for bruken av tjenesten og den som i siste instans får informasjonen som etterspørres
* Leverandøren (L) er den som kontrollerer klienten og som faktisk kaller tjenesten på vegne av konsument (C).

Referansearkitekturen legger her opp til:

* Tilgangsstyringen i tjenesten er uavhengig av hvem som er leverandøren, det er kun konsumenten som er relevant
* Klienten autentiserer seg til token-tjenesten som leverandør, men sier samtidig at den ønsker tilgang til en bestemt tjeneste på vegne av konsument
* Token-tjenesten vil bare utstede et token dersom begge disse holder:
** Konsumenten er autorisert for å kalle tjenesten, dette styres av API-tilbyder
** Leverandøren er autorisert til å opptre på vegne av konsumenten for denne tjenesten, dette styres av konsumenten
* Tokenet som genereres vil inneholde identitet til både konsument og leverandør, men det er forutsatt at informasjon om leverandøren kun brukes til sporingsformål (logging).

== Referanser

Difis veileder for internkontroll i praksis- informasjonssikkerhet:

https://internkontroll-infosikkerhet.difi.no/

Forordning om eID og elektroniske tillitstjenester:

https://www.regjeringen.no/no/sub/eos-notatbasen/notatene/2012/okt/forordning-om-eid-og-elektroniske-tillitstjenester/id2434955/

Trust Services and Electronic Identification (eID):

https://ec.europa.eu/digital-single-market/en/trust-services-and-eid

Forskrift om elektronisk kommunikasjon med og i forvaltningen (eForvaltningsforskriften)

https://lovdata.no/dokument/SF/forskrift/2004-06-25-988




