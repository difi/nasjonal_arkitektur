:lang: no
:doctitle: Temaområde datautveksling
:keywords: 
:toclevels: 3
include::../plattform_felles/includes/commonincludes.adoc[]


== Overordnet oversikt  

Datautveksling kan brytes ned i et sett av isolerte områder og kapabiliteter. På øverste nivå skilles det mellom:

* Deling av data på forespørsel: Innhenting av data ved forespørsel til en eller flere datakilder.

* Deling av data ved forsendelse: Forsendelse av data fra en avsender til en eller flere kjente mottakere.

* Deling av data ved publisering: Publisering av data eller hendelser med løs kopling mellom avsendere og mottakere.  

Dette er illustrert i følgende figur.

.Kapabilitetsområder, datautveksling
image::../nab_arkitekturlandskap_segmentarkitektur_datadeling/media/Kapabilitetsområder, datautveksling.png[alt=Kapabilitetsområder, datautveksling image]

Videre nedbryting i detaljerte kapabiliteter og mønstre gjøres i tilknytning til beskrivelsene av referansearkitekturer for datautveksling.

Her følger en overordnet oversikt over overordnede kapabiliteter og tverrgående temaer som sorterer under området datautveksling. 

NOTE: Noen av de temaene som nevnes her er også aktuelle i andre sammenhenger, og beskrives ved behov i ulike kontekster.   



.Datautveksling - overordnet oversikt over kapabiliteter og temaer 
image::../nab_arkitekturlandskap_segmentarkitektur_datadeling_datautveklsing/media/Datautveksling - overordnet oversikt over kapabiliteter og temaer .png[alt=Datautveksling - overordnet oversikt over kapabiliteter og temaer  image]

== Referansearkitekturer (arkitektur- og løsningsmønstre)

Se link:../nab_referanse_arkitekturer_datautveksling[Referansearkitekturer for datautveksling]


== Tverrgående temaer innen datautveksling

Merk: Disse temaene er også adressert under det større området _Datadeling_. Her omtales det som gjelder spesielt for _Datautveksling_.

=== Roller involvert i datautveksling


=== Feilhåndtering
TBD.

=== Informasjonssikkerhet, tillit og personvern
Se ...

=== Standardisering og spesifikasjoner
TBD.

=== Roller og ansvar innovert i datautveksling

Se  link:../nab_arkitekturlandskap_segmentarkitektur_datadeling_avtaleforvaltning/[Avtaleforvaltning]

* Standardisering og spesifikasjoner
TBD.



////

==== Deling av data ved forsendelse
Dette er deling av informasjon og data initiert av avsender. Det vil normalt være behov og/eller forventning om oppfølging fra mottaker. Eksempler kan være å sende en faktura hvor det forventes at mottaker behandler denne, eller en henvisning i helsesektoren hvor det forventes at mottaker tar ansvar for videre oppfølging av pasienten det gjelder. 

Ved deling av data ved forsendelse må avsender ha visshet om at mottaker kan motta og behandle meldingen/informasjonen som sendes.

.Kapabiliteter innen området Deling av data ved forsendelse
image::../nab_arkitekturlandskap_strategisk-arkitektur\media/kapabiliteter-datautveksling-forsendelse.png[alt="Bilde mangler", width=750]


NOTE: Deling av data ved forsendelse er beskrevet i Nasjonal referansearkitektur og strategi for eMelding; se https://www.difi.no/fagomrader-og-tjenester/digitalisering-og-samordning/nasjonal-arkitektur/referansearkitekturer/referansearkitektur-meldingsutveksling-emelding.



==== Deling av data på forespørsel
//:leveloffset: +4
//include::../nab_arkitekturlandskap_segmentarkitektur_datadeling/deling-av-data-på-forspørsel.adoc[]
//:leveloffset!:

Dette kan være å spørre om data gjennom et API eller å lese åpne, publiserte data. Ved å lese publiserte data menes for eksempel åpne data på data.norge.no eller datasett som legges fritt tilgjengelig på nettet. Et eksempel på det siste er valutakurser fra Norges bank.

.Kapabiliteter innen området Deling av data på forespørsel
image::../nab_arkitekturlandskap_segmentarkitektur_datadeling/media/kapabiliteter-datautveksling-forespørsel.png[alt="Bilde mangler", width=750]


Oppslag av data gjennom API kan gi mer avanserte muligheter for spørring i datasett med ulike metoder og tilgangsnivåer. Dette vil være måten å dele data nært opp til sanntid for bruk i saksbehandlingsprosesser og liknende når tilgang skal gis etter hvilke rettigheter den enkelte bruker har til dataene. Et eksempel på dette er oppslag i folkeregisteret hvor ulike brukere kan ha ulike tilganger etter hva de har av hjemler og behov.


NOTE: En  videre nedbryting av kapabiliteterer spesielt for innhenting av data ved oppslag mot API er gjort i tilnytning til link:../nab_referanse_arkitekturer_eoppslag/[referansearkitektur for eOppslag] og er videre beskrevt der.
    
==== Hendelsesdrevet deling av data
Med hendelsesdrevet deling av data menes det deling som er initiert av en tilstandsendring i dataene som deles. Databruker leser eller abonnerer på hendelseslister og dette trigger eventuell videre oppfølging. Databruker må vurdere om endringen skal følges opp og lese data på forespørsel. 

Et eksempel er modernisert folkeregister hvor brukere kan abonnere på endringer og således kun få vite at det har skjedd en endring på en person, og dersom dette kan være relevant for brukeren hentes detaljene om endringen som igjen kan sette i gang en handling hos bruker.


.Kapabiliteter innen området Hendelsesdrevet deling av data
image::../nab_arkitekturlandskap_segmentarkitektur_datadeling/media/kapabiliteter-datautveksling-hendelse.png[alt="Bilde mangler", width=750]


//Det er foreløpig ikke startet arbeid med referansearkitektur for hendelsesdrevet deling av data.

////





////
== Alternativt utkast til kapabilitetskart for Datadeling basert på The Open Group SOA RA

Behovet for et mer detaljert bilde enn det som så langt er gitt, er til utredning (våren 2019). Som ledd i dette har en sett på kapabilitetskart i The Open Group SOA RA.

Følgende figur presenterer et utvalg av temaområdene i det totale kapbilitetskartet i The Open Group SOA RA som anses spesielt relevant:


.Utvalgte temaområder fra The Open Group-s SOA RA
image::../nab_arkitekturlandskap_segmentarkitektur_datadeling/media/SOA_RA_Kapabilitetsområder.png[]

For videre nedbryting og detaljer om dette kartet, se

* The Open Group SOA RA
* #Publiserte Archi-modeller for The Open Group SOA RA (Difi)#


////


////

== Mapping til EIRA
#Mapping til EIRA kommer her.#
////