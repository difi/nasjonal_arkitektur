:lang: no
:doctitle: Praktiske tips for å komme igang med GitHub
:keywords: Github

include::../plattform_felles/includes/commonincludes.adoc[]




[.lead]
Her gis praktiske tips om bruk av Github i tilknytning til arbeidet med Nasjonal arkitektur. Det gis tips om spesifikke verktøy, men hver enkelt står fritt til å velge andre alternativer.


////
////



== Generelt
Git er en standard for versjonskontroll og lagring av kode og dokumenter. GitHub er en av flere skytjenester som støtter git, og er den tjenesten som er valgt av Difi. Det er i utgangspunktet gratisversjonen av Github som benyttes. 

NOTE: Github ble oppkjøpt av Microsoft i 2018.


Github kan brukes til å lagre vilkårlige dokumenttyper, men egner seg best til tekstbaserte dokumenter, dvs. dokumenter hvor kildeformatet er rå tekst. Det er dette _git_ ble laget for, og da opprinnelig for versjonsstyring og samarbeid om 
kode (programvare).

Markupspråk som Markdown og Asciidoc lar deg skrive dokumenter i ren tekst, og egner seg tilsvarende godt for den funksjonaliteten som finnes rundt versjonsstyring i Github. Asciidoc er valgt her, fordi dette er lett å komme i gang med for nye brukere, samtidig som det gir avanserte muligheter for erfarne brukere. Asciidoc som kildeformat foretrekkes framfor f.eks. Microsoft Word, fordi det framstår som mer åpent og "prosesseringsvennlig". Se link:../plattform_praktiske-tips_asciidoc/main.adoc[Praktiske tips on Asciidoc] for mer informasjon.  

Standard utvekslingsformater for modelleringsspråk som Archimate, BPMN, DMN og UML er også tekstbaserte, og egner seg for versjonsstyring i Github.    


Nasjonalt Arkitekturbibliotek er organisert i en mappestruktur med undermapper for dokumentasjon av arkitekturer, løsninger, referansearkitekturer m.m. 

I tillegg finnes seperate prosjektbiblioteker. Prosjektleveranser i form av dokumentasjon kopieres til "riktig" sted i strukturen under Nasjonalt arkitekturbiblitotek før prosjektslutt, mens arbeidsversjoner, møtereferater og annet prosjektspesifikt innhold tas vare på i prosjektområdet så lenge det er interessant.

Skriverettigheter til selve arkitekturbiblioteket er forbeholdt medlemmer av bibliotekredaksjonen. Tilsvarende er det kun prosjektmedlemmenene som vil ha skrivetilgang til hvert  prosjekt-repository.

Andre som vil bidra med innhold kan gjøre dette ved å kopiere aktuelt GitHub repository (git Fork), gjøre endringer og så spille inn endringsforslag (git Pull Request). Redaksjonen for aktuelt GitHub-repository (arkitekturbibliotek eller prosjekt) vil så behandle endringsforslaget og eventuelt ta inn nytt eller endret innhold (git merge).

_Merk: Git gir flere muligheter enn "fork" og "pull request" for å spille inn endringsforslag, men vi anbefaler inntil videre "fork" og "pull request" som nevnt._


== Prosedyre for å komme i gang med git og Github
=== Opprett GitHub bruker
Dersom du ikke allerede har en GitHub-bruker, kan dette gjøres https://github.com/join?source=header[her].

=== Etabler lokal filmappe for kloning av github-filer
Lag en filmappe som hjemmeområde for å arbeide lokalt med github-filer, eventuelt med en undermappe for biblioteker (repos) fra Difi.

Eksempel 1: _C:\Users\eha\OneDrive - Difi\GitHub_.
Eksempel 2: _C:\Users\eha\GitHub_.

NOTE: Det fungerer å bruke Microsoft Onedrive i kombinasjon med Github. Fordelen med dette er at det blir lett å dele enkeltfiler og mapper med andre. Det fungerer også å bruke filmapper under din Windows-bruker som kun lagres lokalt (kan kanskje gi bedre ytelse og respons i brukergrensesnittet).  

=== Installer og konfigurer Git for Windows
Det antas her at du kjører Windows. Last ned og installer Git fra
https://git-scm.com/download/win.

Her følger en kortfattet videre beskrivelse av på norsk; se eventuelt også Git-s egen dokumentasjon om https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup[Getting Started - First-Time Git Setup].

1. Sjekk at systemvariabelen HOME angir riktig filsti til ditt Git hjemmeområde (se over), eventuelt oppdater så verdien blir riktig.
+
En måte å sjekke dette på, er fra Windows kommandovindu (skrivebordsprogrammet Ledetekst) gjennom kommandoen _set HOME_.
+
Systemvariabelen kan legges til og endres gjennom Kontrollpanel, System, Avanserte systeminnstillinger, miljøvariabler. Eksempel: _HOME=C:\Users\eha\OneDrive - Difi\GitHub_.


2. Sjekk og oppdater Git-konfigurasjonen med riktig user.name og user.email.
+
En måte å sjekke på: Åpne et Windows kommandovindu (skrivebordsprogrammet Ledetekst) og kjør følgende to kommandoer: _git config --get user.email_ og _git config --get user.name_. 
+
En måte å endre på: Åpne et Windows kommandovindu (skrivebordsprogrammet Ledetekst) og kjør følgende to kommandoer: _git config --global user.name "Ditt navn"_ og _git config --global din-epostadresse_. Det kan også gjøres gjennom annen Git programvare, som f.eks. GitHub Desktop (se nedenfor).


WARNING: For spesielt interesserte: Om du bruker lange navn og dyp mappestruktur i Windows, kan du få problemer med en begrensning på 260
karakterer i total lengde på filnavn. I og med Windows 10 kan denne begrensningen oppheves. Se f.eks.
https://www.howtogeek.com/266621/how-to-make-windows-10-accept-file-paths-over-260-characters/ for en oppskrift på
hvordan dette kan gjøres. +
 +
Kort fortalt: På Windows 10 Enterprise kan du kjøre gpedit.msc og endre Aktiver lange Win32 baner under
Datamaskinkonfigurasjon, Administrative maler, System, Filsystem. Du må restarte eller logge av og på for at endringen skal tre i kraft.

=== Installer annen programvare for git og GitHub 
=== Generelt
Det finnes tre kategorier mennesker:

. De som foretrekker grafiske brukergrensesnitt  
. De som foretrekker å skrive tekstkommandoer 
. De som ikke har anledning til å installere programvare

Anbefalinger for disse kategoriene er:

1. Bruk GitHub Desktop (enkel bruk) eller TortoiseGit (mer avansert)
2. Bruk _Git Bash_ eller _Git CMD_ (eller Windows CMD).
3. Arbeid direkte i nettleseren under https://github.com/difi/nasjonal_arkitektur , uten å klone til lokalt filområde;  eventuelt bruk asciidoclive for asciidoc-dokumentasjon; ref. https://asciidoclive.com/edit/scratch/1


==== Alternativ 1: GitHub Desktop

GitHub Desktop er en mye brukt og god klient for å klone og oppdatere GitHub-biblioteker.

GitHub Desktop kan lastes ned her: https://desktop.github.com/[].


==== Alternativ 2: TortoiseGit
TBD.

==== Alternativ 3: Git Bash
Git Bash fås med siste versjon av Git for Windows her: https://git-scm.com/download/win

Generelle tips om å komme igang med Bash kommandolinke:

* https://rubygarage.org/blog/most-basic-git-commands-with-examples

==== Alternativ 4: Asciidoclive
Ingen installasjon nødvendig. Se https://asciidoclive.com/edit/scratch/1. 

WARNING: Bruke MS Internet Explorer eller MS Edge! Preview fungerer ikke i Chrome eller Firefox.


=== Klon GitHub-prosjektet til din maskin
==== Kloning med GitHub Desktop  

Om du bruker GitHub Desktop, kan det gjøres slik:

a. Åpne  GitHub-biblioteket i nettleser, dvs.   https://github.com/difi/nasjonal_arkitektur

b. Velg "Clone or Download" i GitHub og velg så "Open in Desktop".

c. I GitHub Desktop, velg File | Clone a repository og angi hvor filene skal legges på din harddisk, som omtalt under avsnittet om lokla filmappe ovenfor. Om du f.eks. benytter C:\Users\eha\GitHub\Difi, vil GitHub Desktop opprette C:\Users\eha\GitHub\Difi\nasjonal_arkitektur.

==== Kloning med TortoiseGit 
TBD.

==== Kloning med Windows kommandolinje
TBD.

==== Kloning med Git Bash
TBD.

=== Gjør endringer
Gitt at du har skriverettigheter, kan du endre eksisterende filer, slette filer og tilsvarende for mapper. Når du gjør dette i et lokalt, klonet, repository, må du deretter synkronisere og eventuelt publisere dette før det blir tilgjengelig for andre.


=== Synkronisering og publisering av endringer

==== Synkronisering og publisering med GitHub Desktop
GitHub Desktop vil kontinuerlig polle og hente ned endringer fra GitHub til valgt _Current Repository_. Du vil også løpende se hvilke endringer du selv har gjort som foreløpig ikke er synkronisert tli GitHub. 

For å publisere endringer med GitHub Desktop, må du først gi en _Description_, så trykke  _Commit to Master_ og til sist trykke _Push to origin_.



==== Publisering med TortoiseGit
TBD.

==== Publisering med Windows kommandolinje
TBD.

==== Publisering med Git Bash
TBD.

=== Mer avanserte temaer

==== Git Submodules
Git Submodules brukes for prosjektarbeid der en ønsker å tildele skriverettigheter til  prosjektmedlemmene, noe som ikke uten videre er tilrådelig for hele arkitekturbiblioteket.

==== Annet

image:../plattform_felles/media/i-arbeid.png[width=45, height=45]I arbeid
