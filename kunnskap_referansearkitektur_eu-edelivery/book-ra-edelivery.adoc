:lang: en
:doctitle: EIRA - European Interoperability Reference Architecture
:keywords: eNotifikasjon

include::../plattform_felles/includes/commonincludes.adoc[]

[.lead]
Any Policy Domain of the EU (Justice, Procurement, Consumer Protection, etc.) in need of secure, reliable, cross-border and cross-sector exchange of documents and data, can use the technical specification prescribed by the eDelivery DSI.

== Introduction to eDelivery
include::./ra-edelivery-intro.adoc[]

== Who is eDelivery for

Policy domain owners involved in the roll out of EU or national policies that require the *secure exchange of documents and data* are the main target of the services of eDelivery DSI.

By adopting eDelivery, these actors make sure that Public Administrations can exchange any type of data and documents across borders. This means enabling *Administration to Administration communication (A2A)* contributing to the creation of an European single market which is fit for the digital age. 

eDelivery can also be used in *Administration to Business (A2B)* and *Business to Administration (B2A)* scenarios, as proven by the PEPPOL implementation of eDelivery in the eProcurement domain.

It can also enable the interconnection of *Public Administrations with Citizens (A2C and C2A)* when adopted in the development of **webportals**. For example, eDelivery enables the eJustice portal to talk with other information systems. [underline]#Communications between citizens (C2C) is out of scope of eDelivery.#

The eDelivery DSI is also appealing for *service and software vendors* in the eDelivery domain. These actors can benefit form the CEF eDelivery services when upgrading their solutions to become conformant with the technical specifications. 

.Target and scope of eDelivery
image::../kunnskap_referansearkitektur_eu-edelivery\media/eDelivery_Discover_Background_img1.png[]

Also see https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/Who+is+eDelivery+for.

== eDelivery Use cases
eDelivery has the following Use Cases:

* Message exchange
* Trust Establishment
* Dynamic Service Location
* Capability Lookup
* Backend Integration


[underline]#These Use Cases are domain-neutral as eDelivery can be used for the exchange of any type of document and data.#

As an example, the first use case refers to a generic 'Message Exchange' instead of 'Invoices Exchange' or 'Claims Exchange'. The exchange of invoices or claims are domain-specific Use Cases and are examples specializations of the 'Message Exchange' Use Case. eDelivery is an enabler of a wide variety of services which will exchange specific types of documents and data, below are a few examples.

.eDelivery Use Cases”
image::../kunnskap_referansearkitektur_eu-edelivery\media/eDelivery_usecases.png[]


== How does eDelivery work?
The CEF eDelivery Building Block helps users to exchange electronic data and documents with one another in a reliable and trusted way.

The CEF eDelivery solution is based on a distributed model called **the “4-corner model”**. In this model, the back-end systems of the users don’t exchange data directly with each other but do this through Access Points. These Access Points are conformant to the same technical specifications and therefore capable of communicating with each other.

As a result of this, users adopting CEF eDelivery can easily and safely exchange data even if their IT systems were developed independently from each other. 

.The “4-corner model”
image::../kunnskap_referansearkitektur_eu-edelivery\media/eDelivery_HowItWorks_SolutionDescription_img1.png[]

== eDelivery AS4 profile ver. 1.14
The AS4 messaging protocol is used between corners 2 and 3 of the "4-corner model".

The eDelivery AS4 Profile is a modular profile of the ebMS3 and AS4 OASIS specifications. Its core is a mandatory Common Profile that selects, extends and profiles the AS4 ebHandler Conformance Profile and AS4 Additional Features and provides a common Usage Profile. 
This Common Profile can be implemented using open source or closed source AS4 software implementations. It is aligned with, and corresponds to a subset of, the AS4 profile for TSOs (Transmission System Operators) developed by ENTSOG (the European Network of Transmission System Operators for Gas).

In addition to the Common Profile, this specification provides a number of optional Profile Enhancement modules that specify functionality enhancements covering AS4 message exchange in four corner topologies, the use of AS4 in conjunction with the UN/CEFACT Standard Business Document Header (SBDH) specification, Dynamic Receiver and Dynamic Sender behavior and support for the Pull feature.


.ebMS3/AS4 Functional Overview.  (****) in ebMS3, not in AS4 (*****) AS4 extension to ebMS3
[width="100%",options="header"]
|====================
|Functionality|ebMS 3.0 AS4

|Core Messaging|Web Services
|Exchange Pattern Bindings|Push, Pull and Sync (*)
|Exchange Patterns|One Way or Two Way (*)
|Internet TransportHTTP 1.1
|Message and Payload Packaging|SOAP 1.2 with attachments
|Message Confidentiality|WS-Security 1.1 using XML Encryption
|Message Correlation|ebMS 3.0 "RefToMessageId" and "ConversationId"
|Message Identification|ebMS 3.0 "MessageId"
|Message Timestamp|ebMS 3.0 "Timestamp" and WS-Security "Timestamp"
|Non-Repudiation of Origin|WS-Security 1.1 using XML Signature
|Non-Repudiation of Receipt|Signed Receipt Signal Message
|Party Identification|ebMS 3.0 "From" and "To" party identifiers.
|Payload Compression|Gzip (**)
|Reliable Message|AS4 reception awareness feature for lightweight, interoperable reliable messaging (**)
|Routing and Dispatching, SOA integration|Mandatory "Service" and "Action" header elements
|Transport Layer Integrity, Sender Authentication, Receiver Authentication and Message Confidentiality (Non-Persistent)|Transport Layer (SSL / TLS) Security
|====================



Also see: 

1. https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/eDelivery+AS4+-+1.14

